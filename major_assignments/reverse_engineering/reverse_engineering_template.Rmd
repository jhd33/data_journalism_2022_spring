---
title: "Reverse Engineering Project"
author: "Mythili Devarakonda, Varun Shanker, Jon Donville"
date: "3/5/2022"
output:
  html_document:
    theme: cerulean
    highlight: pygments
    toc: true
    toc_float:
      collapsed: true
      smooth_scroll: false
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Introduction 

In this notebook, we are reverse engineering the story, [CEOs gave heavily during legislative session, exposing loophole in NC's fundraising ban (WRAL, North Carolina)](https://www.wral.com/in-session-campaign-donations/17716104/)

## Load libraries

Loading required libraries for this analysis.

```{r echo=FALSE, message=FALSE}
library(tidyverse)
library(janitor)
library(lubridate)
library(refinr)
```

## Load and Cleaning Data

In this section, describe the source of the data, write a basic data dictionary for data you are working with, and discuss any caveats or issues you discovered working with this data. 

```{r}
# Load required data
# Path to data should be loaded from folder "data" i.e. read_csv("data/name_of_data.csv")
# Clean required data and prepare for analysis if needed. 
nc_finance_data <- read_csv("data/donors0103-0701.csv")
View(nc_finance_data)
```

## Sentences to Engineer
In this notebook, we are reverse engineering five sentences from the story.

### Sentence 1

* **Sentence text**: “Add in donations to the two main political parties and to a handful of other large fundraising vehicles for state legislative races, and the in-session giving topped $3.4 million. Gov. Roy Cooper's main campaign account brought in another $407,000 during session."
* **Analysis summary**: I was able to get to the right result of $3.4 million by filtering using the date format and calculating the total amount.

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
nc_finance_data <- nc_finance_data %>% 
  mutate(date = mdy(date))  
nc_finance_data <- nc_finance_data %>% mutate(amount = as.numeric(parse_number(amount)))
major_donations<-nc_finance_data %>% filter( date >= '2018-05-16' & date <= '2018-06-29' )
major_donations %>% summarise(
  total_amount = sum(amount)
)
  
```

### Sentence 2

* **Sentence text**: “Berger, R-Rockingham, brought in about $60,000 that week. House Speaker Tim Moore's campaign account collected more than $72,000. Both men declined interview requests on these issues.”

* **Analysis summary**: I was able to recreate both these values by using the right date frame and date format.


```{r}
# Put code to reverse engineer sentence here
nc_finance_data <- nc_finance_data %>% mutate(date = mdy(date)) 
berger_donations <- nc_finance_data %>%  
  filter(date >= '2018-05-09' & date <= '2018-05-16' & committee_name == "PHILIP E BERGER COMM") 
berger_donations %>% 
summarize(total_loans_amount = sum(amount))
moore_donations <- nc_finance_data %>%  
  filter(date >= '2018-05-09' & date <= '2018-05-16' & committee_name == "FRIENDS OF TIM MOORE") 
moore_donations %>% 
summarize(total_loans_amount = sum(amount))
  # Display results of code below this codeblock
```



### Sentence 3

* **Sentence text**: R.H. Barringer's board chair, Jasie Barringer, donated another $8,200 in-session, and Teresa Craig kicked in another $5,200 to Berger. The North Carolina Beer & Wine Wholesalers Association PAC gave $18,400 during the week before session and on opening day.
* **Analysis summary**: I am still having trouble finding this information. Even when I filtered for the individual names, the amounts I found did not line up with the results of the story. 

```{r}
# Put code to reverse engineer sentence here
nc_finance_data_cleaned <- read.csv("data/nc_finance_data_cleaned.csv")

nc_finance_data_cleaned <- nc_finance_data_cleaned %>% 
  mutate(date = mdy(date))  

barringer_donations<-nc_finance_data_cleaned %>% 
  filter(name_clean == "Jasie Barringer" )



# Display results of code below this codeblock

  


```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
```

-30-

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
```

### Sentence 4

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
```

### Sentence 5

* **Sentence text**: [Paste in sentence to engineer here]
* **Analysis summary**: [Write up two to three sentences describing the results of your analysis.  Were you able to confirm the finding? If not, why not?]

```{r}
# Put code to reverse engineer sentence here
# Display results of code below this codeblock
```

-30-